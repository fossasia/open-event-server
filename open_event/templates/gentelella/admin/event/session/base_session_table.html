{% extends 'gentelella/admin/event/event_base.html' %}

{% block title %}
    {{ event.name }} - Sessions
{% endblock %}
{% block content %}
    <button class="btn btn-default" onclick="show_all();">All</button>
    <button class="btn btn-default" onclick="show_pending();">Pending</button>
    <button class="btn btn-default" onclick="show_accepted();">Accepted</button>
    <button class="btn btn-default" onclick="show_rejected();">Rejected</button>
    <a class="btn btn-success" href="{{ get_url('session.create_view', event_id=event_id) }}">Create Session</a>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Abstract</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>State</th>
        </tr>
        </thead>
        <tbody>
        {% for session in sessions %}
            <tr class="session {{ session.state }}">
                <td>{{ session.title }}</td>
                <td>{{ session.description }}</td>
                <td>{{ session.abstract }}</td>
                <td>{{ session.start_time }}</td>
                <td>{{ session.end_time }}</td>
                <td>{{ session.state }}</td>
                <td>
                    {% if session %}
                        <a class="icon"
                           href="{{ get_url('session.accept_session', event_id=session.event_id, session_id=session.id) }}"
                           title="Accept Session">
                            <span class="glyphicon glyphicon-ok"></span>
                        </a>
                        <a class="icon"
                           href="{{ get_url('session.reject_session', event_id=session.event_id, session_id=session.id) }}"
                           title="Reject Session">
                            <span class="glyphicon glyphicon-remove"></span>
                        </a>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block tail_js %}
    {{ super() }}
    <script type="text/javascript">
        function show_all() {
            $('.session').show();
        }

        function show_pending() {
            $('.session').hide();
            $('.session.pending').show();
        }

        function show_accepted() {
            $('.session').hide();
            $('.session.accepted').show();
        }

        function show_rejected() {
            $('.session').hide();
            $('.session.rejected').show();
        }
    </script>
{% endblock %}
